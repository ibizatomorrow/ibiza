# 第二次过程报告
## 1.词法分析部分
**改动**：这次对语法分析器做了很多的改动，主要是和语法分析器部分接口的问题，语法分析器要求的字符和类型的对应关系如下：  
~~~
id 1  
cons 2  
int 3  
float 4  
char 5  
== 6  
:= 7  
> 8  
>= 9  
< 10  
<= 11  
+ 12  
- 13  
* 14  
/ 15  
( 16  
) 17  
{ 18  
} 19  
, 20  
; 21  
= 22  
~~~
我之前设计的类码是出现一个单词首先扫描它是否已经在对应字符表中，如果在则用对应的类码，如果不在则追加类码，并且判断完所属字符表之后当前单词是否可以写入符号表，现在得根据接口来修改判断的标准了，所以我就创建了两种结构体系，一个是总Token，用来存储接口要求的标识符和对应的类码，一个是分支token,都包含了：KTtoken、ITtoken、charTtoken、STtoken、constTtoken、PTtoken，这样子就既能满足接口的要求，又能体现出最开始现出现现标号的类码特性。  

**结构**  
~~~
char KT[1001][20]={ "" };//关键字表
int KTSize=0;
char IT[1001][20] = { "" };//标识符表
int ITSize=0;
char charT[1000]={ "" };//单个字符表
int charTSize=0;
char ST[1001][20] = { "" };//字符串表
int STSize = 0;
char constT[1001][20] = { "" };//常数表
int constTSize=0;
char PT[1000][20]={""};//界符表 用来存储出现的界符
int PTSize;
char PT_temp[20] = {'+','-','*','/','(',')','{','}',',',';','\'','"'};//界符表 用来传递给语法分析器和语义分析器


struct token//token结构体
{
    string type;
    int typeTSize;
};

token Token[150];
token KTtoken[50];
token ITtoken[50];
token charTtoken[50];
token STtoken[50];
token constTtoken[50];
token PTtoken[50];
~~~

## 2.符号表部分  
**设计思路**：由于接口的判断和我词法分析器本意的判断有很多处冲突，所以我将符号表给分离出来了，也是识别源代码，然后将对应单词填入符号表，我设计的是符号表的外表，包含了总符号表，类型表，数组表，种类和地址都是总符号表的一个成员，不是结构体。总符号表是一个结构体数组，每一个单词都被填入结构体数组中的一个，然后根据种类的不同，依次填入更深的成员，设计的算法就是往后读取单词，比如说当前单词是int，那么下一个单词可能是函数名也可能是标识符名，所以再往后读一个单词，如果是‘（’，那么代表int定义的是函数，如果是‘=’，那么代表int定义的是常量，如果是‘[‘，那么代表int定义的是数组。总体的设计思路就是依次读取单词，如果读到了定义型关键字:“int”、“char”、“float”，那么就判断依次向后读取单词，并填写符号表。  
**结构**  
~~~
struct Ainfl//数组表
{
    int low;
    int up;
    int clen;
};
struct Tapel//类型表
{
    string tval;
    struct Ainfl ainfl;
};

struct Synbl//总符号表
{
    string name;
    struct Tapel tapel;
    string cat;
    int addr;
    int offset;
};
Synbl synbl[20];

~~~

## 3.总结  
这次编译原理课设大概经过了两周的时间，我负责的部分也算是大致完成了，在我们共同的努力下，编译器也已经完成的差不多了，虽然只有前端的部分，但我们也从中学习到了很多的知识，我们也面临了很多的困难，但最终也战胜了困难，我们从来没有为自己只完成了前端的部分而觉得羞愧，相反的，我们为自己的努力与成长感到自豪，我们只要战胜自我并提升自我就足够了，未来的路还很长，我们还会面对很多的困难与险阻，但我相信，通过这次编译原理教给我们的团队协作能力，让我们每一个人都不再是一个人面临困难，而是有他人的陪伴和帮助。感谢老师教给我们的知识和处事的方式，也感谢老师们为我们提供的一次次报告，让我们知道了未来的路可能会发展成什么样，我们该如何从中做出选择，这都是书本中学不到的知识，所以更为珍贵。总之，再次感谢老师和为我们付出的学长与学姐，真的让我学到了很多很多的东西，谢谢你们！