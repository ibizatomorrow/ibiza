# 6.29
这是编译课设的第一次上机，我们进行了一次比较详细的规划，我们打算先做出前端的部分，等前端的部分做完了，再看看有没有时间和经历去处理后端的部分，我们进行了一次分工，分工的情况是我负责词法分析，叶显晗负责语法分析，张兴家负责优化处理的部分，赵祎涵负责语义分析。

我们经过语音讨论决定先用样例给的pascal文法，符号表先是一个总的符号表和常量表，当时我们还没有决定符号表具体由谁设计，所以我们决定今天先做着看，看看会出现什么问题，等明天再讨论。

因为之前实验课有设及到词法分析的实验，所以我打算在那上面进一步的进行改造，之前设计的还不够完善，有的二目运算符识别不了，比如>=和<=,之前也只是初步的设计了一个词法分析器，我觉得这次课设和实验的主要区别就是要使词法分析器更加的完善，并且接口要能传递给语法分析器。

除了完善词法分析器以外，我又第一次尝试编写了.md文件，我看了看教程，可以在vscode里下载几个插件，然后直接写就可以了，感觉vscode真的是太强了，什么都可以干，以后别的软件都不需要了，只需要一个vscode就够了哈哈哈。
# 6.30
今天没有上机课，我就继续地完善自己的词法分析器，基本上经过今天一天地完善，词法分析器我觉得算是完成了。

我们又讨论了一下，商量了一下接口的问题，最后我们初步决定整个流程是这样子的，词法分析器先识别整个源代码，然后返回一组token串，大体就跟张俐老师发的那个例子一样，源代码的一行语句对应一行token串。词法分析器将token串传递给语义分析器，语义分析器根据token串生成相应的四元式，最后语义分析器将生成的token串传递给优化处理器，优化处理之后就生成了简化好的四元式。至于语法分析器，我们决定只让它判断源程序能否通过文法推导出来就可以了，如果推导的出来就将ture返回给语义分析器，推导不出来则将false返回给语义分析器，语义分析器通过语法分析器返回的结果决定是否进行下一步的操作。

除了写编译原理课设外，数电和算法的课设也在今天布置下来了，突然觉得压力好大，时间根本不够用，但也没办法，继续努力前行吧！
# 7.1
今天是第二次上机，我们在给学长汇报完任务后，又小组地进行了一次讨论，决定不用pascal文法了，而是使用一套简单地类c的文法，这个文法只有几个最基本的功能，并且不具备函数调用的功能，所以它总共只有一层，我们打算等基本框架都设计出来后再依次地往上加功能，然后最终决定符号表由我来设计。

我设计了一下符号表，它是在我生成token的同时填写符号表，当遇到定义型指令时，则将下一个字符型变量存入符号表，因为符号表中全是标识符，不论是函数名，数组名或是结构体都是需要定义型指令定义的，所以我打算利用这个性质，将变量填写进符号表，类型和属性看定义型指令是什么也就可以知道了，数组和结构体填入符号表的方法目前还没有写出来，初步想法还是查看前面和后面的token来进行填写，至于地址，因为只有一层函数，所以也比较好设计，只用看类型和属性便可以计算出地址是多少。

晚上我完成了文法的设计，它的内容主要如下：
# 7.2
今天是第三次上机，我们汇报完情况后，进行了小组讨论，我们经过讨论后，觉得只接由词法分析器到语义分析没有体现出编译原理的过程，所以词法分析器输出的内容，应当先传到语法分析器，然后语法分析器再生成语法树转化为逆波兰式传送给语义分析器，最终再由优化处理器对四元式进行优化，这样子更能体现出过程的感觉。

对于我来说不论是传递给语法分析器还是语义分析器都是差不多的，在此时我的词法分析器已经设计的差不多了，所以我打算在完善词法分析器的同时，看看后端的内容，提前学习一样，如果还有时间，尝试着将后端的部分也给做出来。

