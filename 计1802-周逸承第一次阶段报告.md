# 第一次过程报告
## 1.对用到的各个结构体进行构造
**token类**：它包括了当前word的名字以及它在对应标识符表的序号，并以token为基础，依次创建了KTtoken、ITtoken、charTtoken、STtoken、constTtoken、PTtoken、Token，分别代表关键字token、标识符token、字符token、字符串token、常数token、界符token和总token。  
**Synbl类**：它代表总符号表，包括了word的名字，类型和种类。(地址目前还没有加，等基本框架出来后会加上)。  
**Typel类**：类型符号表，包括了word的名字、类型（枚举型只包含了int、float和char）、数组类Ainfl和结构体类Rinfl。  
**Ainfl类**：数组符号表，包括了数组的名字还有里面每个成分的类。  
**Rinfl类**：结构体符号表，包括了结构的域名、区距和每个成分的类型。
## 2.文法的设计
我们决定当前阶段只设计出包含条件语句、循环语句、赋值语句的文法，而没有考虑函数的递归使用，我们打算将基本的框架设计出来之后再把函数的调用加入到整个编译器的设计中，所以我们目前的编译器只有两层，最外层的main函数和main函数里的语句，文法主要是根据老师发的样例文法改编制作而成。文法内容主要如下：
~~~
程序定义
<程序> -> <类型> <标识符>（）{<主函数>}
<主函数> -> <变量说明> <复合语句>
语句定义
<变量说明> -> <类型> <标识符表> <变量说明>|<类型> <标识符表>|空       //用于多行定义变量
<类型> -> int|float|char|struct
<复合语句> -> <条件语句>|<循环语句>|<赋值语句>
条件语句定义
<条件语句> -> if （<条件>） {<条件函数>} else {<条件函数>}|if（<条件>）{<条件函数>}
<条件> -> <标识符> <关系> <对象>
<关系> -> ==|!=|>|>=|<|<=
<对象> -> <标识符>|<常数>
<条件函数> -> <变量说明> <赋值语句>
循环语句定义
<循环语句> -> while <条件> {<循环函数>}
<条件> -> <标识符> <关系> <对象>
<关系> -> ==|!=|>|>=|<|<=
<对象> -> <标识符>|<常数>
<循环函数> -> <变量说明> <赋值语句>
赋值语句定义
<赋值语句> -> <变量说明> <赋值函数>|<赋值函数>
<赋值函数> -> <标识符> = <算术表达式>
算术表达式定义
<算术表达式> -> <标识符> <逻辑运算符> <算术表达式>|<标识符>
<逻辑运算符>->+|-|*|/
标识符定义
<标识符表> -> <标识符>|<数组变量>|<结构体变量>
<数组变量> -> <标识符> [<整数>]
<结构体变量> -> {<结构体定义>}
<结构体定义> -> <变量说明>
<标识符> -> <字母>|<标识符> <数字>|<标识符> <字母>
<常数> -> <整数>|<实数>
<整数> -> <数字>|<整数> <数字>
<实数> -> <整数>.<整数>
~~~
## 3.符号表的设计
符号表我目前只设计了总符号表、类型符号表、数组符号表和结构体符号表，因为活动记录需要考虑的因素有很多，所以目前符号表没有将活动记录考虑到里面，由于只有主函数一层函数，所以函数符号表也没有涉及到，而符号表的实现主要是通过生成token的同时对当前word进行分析，如果当前word是定义型标识符（int、float、char），那么它后面肯定会出现标识符变量，于是将指针往后读取几个token，将这些标识符填写到总符号表中。如果指针在往后读取token的过程中遇到了字符‘[’，那么可以判断该标识符为数组，那么需要将当前变量的类型记为数组。所以符号表填写的总体思路就是往后读取token串来判断当前变量的类型和属性。
## 4.词法分析器的设计
**对关键字的分析**：首先定义了一个关键字数组，当扫描时判断出当前word为单词时，对关键字数组进行一次扫描，如果有该word的话，那么判断该word为关键字，并且对关键字表进行扫描，如果有该word那么返回序列号，如果没有，则创建该word。  
**对标识符的分析**：当目前word不为关键字时，则判断该word为标识符。  
**对常数的分析**：若word的第一个字符为数字，且出现小数点后也有数字出现，那么判断该word为常数，否则按错处理  
**对字符常量的分析**





